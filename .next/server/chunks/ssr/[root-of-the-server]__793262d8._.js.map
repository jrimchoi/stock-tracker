{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrchoi/Documents/GitHub/stock-tracker/components/NavItems.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/NavItems.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/NavItems.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA2R,GACxT,yDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrchoi/Documents/GitHub/stock-tracker/components/NavItems.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/NavItems.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/NavItems.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAuQ,GACpS,qCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrchoi/Documents/GitHub/stock-tracker/components/UserDropdown.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/UserDropdown.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/UserDropdown.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA+R,GAC5T,6DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrchoi/Documents/GitHub/stock-tracker/components/UserDropdown.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/UserDropdown.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/UserDropdown.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA2Q,GACxS,yCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrchoi/Documents/GitHub/stock-tracker/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport const formatTimeAgo = (timestamp: number) => {\n  const now = Date.now();\n  const diffInMs = now - timestamp * 1000; // Convert to milliseconds\n  const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));\n  const diffInMinutes = Math.floor(diffInMs / (1000 * 60));\n\n  if (diffInHours > 24) {\n    const days = Math.floor(diffInHours / 24);\n    return `${days} day${days > 1 ? 's' : ''} ago`;\n  } else if (diffInHours >= 1) {\n    return `${diffInHours} hour${diffInHours > 1 ? 's' : ''} ago`;\n  } else {\n    return `${diffInMinutes} minute${diffInMinutes > 1 ? 's' : ''} ago`;\n  }\n};\n\nexport function delay(ms: number) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\n\n// Formatted string like \"$3.10T\", \"$900.00B\", \"$25.00M\" or \"$999,999.99\"\nexport function formatMarketCapValue(marketCapUsd: number): string {\n  if (!Number.isFinite(marketCapUsd) || marketCapUsd <= 0) return 'N/A';\n\n  if (marketCapUsd >= 1e12) return `$${(marketCapUsd / 1e12).toFixed(2)}T`; // Trillions\n  if (marketCapUsd >= 1e9) return `$${(marketCapUsd / 1e9).toFixed(2)}B`; // Billions\n  if (marketCapUsd >= 1e6) return `$${(marketCapUsd / 1e6).toFixed(2)}M`; // Millions\n  return `$${marketCapUsd.toFixed(2)}`; // Below one million, show full USD amount\n}\n\nexport const getDateRange = (days: number) => {\n  const toDate = new Date();\n  const fromDate = new Date();\n  fromDate.setDate(toDate.getDate() - days);\n  return {\n    to: toDate.toISOString().split('T')[0],\n    from: fromDate.toISOString().split('T')[0],\n  };\n};\n\n// Get today's date range (from today to today)\nexport const getTodayDateRange = () => {\n  const today = new Date();\n  const todayString = today.toISOString().split('T')[0];\n  return {\n    to: todayString,\n    from: todayString,\n  };\n};\n\n// Calculate news per symbol based on watchlist size\nexport const calculateNewsDistribution = (symbolsCount: number) => {\n  let itemsPerSymbol: number;\n  let targetNewsCount = 6;\n\n  if (symbolsCount < 3) {\n    itemsPerSymbol = 3; // Fewer symbols, more news each\n  } else if (symbolsCount === 3) {\n    itemsPerSymbol = 2; // Exactly 3 symbols, 2 news each = 6 total\n  } else {\n    itemsPerSymbol = 1; // Many symbols, 1 news each\n    targetNewsCount = 6; // Don't exceed 6 total\n  }\n\n  return { itemsPerSymbol, targetNewsCount };\n};\n\n// Check for required article fields\nexport const validateArticle = (article: RawNewsArticle) =>\n    article.headline && article.summary && article.url && article.datetime;\n\n// Get today's date string in YYYY-MM-DD format\nexport const getTodayString = () => new Date().toISOString().split('T')[0];\n\nexport const formatArticle = (\n    article: RawNewsArticle,\n    isCompanyNews: boolean,\n    symbol?: string,\n    index: number = 0\n) => ({\n  id: isCompanyNews ? Date.now() + Math.random() : article.id + index,\n  headline: article.headline!.trim(),\n  summary:\n      article.summary!.trim().substring(0, isCompanyNews ? 200 : 150) + '...',\n  source: article.source || (isCompanyNews ? 'Company News' : 'Market News'),\n  url: article.url!,\n  datetime: article.datetime!,\n  image: article.image || '',\n  category: isCompanyNews ? 'company' : article.category || 'general',\n  related: isCompanyNews ? symbol! : article.related || '',\n});\n\nexport const formatChangePercent = (changePercent?: number) => {\n  if (!changePercent) return '';\n  const sign = changePercent > 0 ? '+' : '';\n  return `${sign}${changePercent.toFixed(2)}%`;\n};\n\nexport const getChangeColorClass = (changePercent?: number) => {\n  if (!changePercent) return 'text-gray-400';\n  return changePercent > 0 ? 'text-green-500' : 'text-red-500';\n};\n\nexport const formatPrice = (price: number) => {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 2,\n  }).format(price);\n};\n\nexport const formatDateToday = new Date().toLocaleDateString('en-US', {\n  weekday: 'long',\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  timeZone: 'UTC',\n});\n\n\nexport const getAlertText = (alert: Alert) => {\n  const condition = alert.alertType === 'upper' ? '>' : '<';\n  return `Price ${condition} ${formatPrice(alert.threshold)}`;\n};\n\nexport const getFormattedTodayDate = () => new Date().toLocaleDateString('en-US', {\n  weekday: 'long',\n  year: 'numeric',\n  month: 'long',\n  day: 'numeric',\n  timeZone: 'UTC',\n});\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrchoi/Documents/GitHub/stock-tracker/lib/constants.ts"],"sourcesContent":["export const NAV_ITEMS = [\n    { href: '/', label: 'Dashboard' },\n    { href: '/search', label: 'Search' },\n    // { href: '/watchlist', label: 'Watchlist' },\n];\n\n// Sign-up form select options\nexport const INVESTMENT_GOALS = [\n    { value: 'Growth', label: 'Growth' },\n    { value: 'Income', label: 'Income' },\n    { value: 'Balanced', label: 'Balanced' },\n    { value: 'Conservative', label: 'Conservative' },\n];\n\nexport const RISK_TOLERANCE_OPTIONS = [\n    { value: 'Low', label: 'Low' },\n    { value: 'Medium', label: 'Medium' },\n    { value: 'High', label: 'High' },\n];\n\nexport const PREFERRED_INDUSTRIES = [\n    { value: 'Technology', label: 'Technology' },\n    { value: 'Healthcare', label: 'Healthcare' },\n    { value: 'Finance', label: 'Finance' },\n    { value: 'Energy', label: 'Energy' },\n    { value: 'Consumer Goods', label: 'Consumer Goods' },\n];\n\nexport const ALERT_TYPE_OPTIONS = [\n    { value: 'upper', label: 'Upper' },\n    { value: 'lower', label: 'Lower' },\n];\n\nexport const CONDITION_OPTIONS = [\n    { value: 'greater', label: 'Greater than (>)' },\n    { value: 'less', label: 'Less than (<)' },\n];\n\n// TradingView Charts\nexport const MARKET_OVERVIEW_WIDGET_CONFIG = {\n    colorTheme: 'dark', // dark mode\n    dateRange: '12M', // last 12 months\n    locale: 'en', // language\n    largeChartUrl: '', // link to a large chart if needed\n    isTransparent: true, // makes background transparent\n    showFloatingTooltip: true, // show tooltip on hover\n    plotLineColorGrowing: '#0FEDBE', // line color when price goes up\n    plotLineColorFalling: '#0FEDBE', // line color when price falls\n    gridLineColor: 'rgba(240, 243, 250, 0)', // grid line color\n    scaleFontColor: '#DBDBDB', // font color for scale\n    belowLineFillColorGrowing: 'rgba(41, 98, 255, 0.12)', // fill under line when growing\n    belowLineFillColorFalling: 'rgba(41, 98, 255, 0.12)', // fill under line when falling\n    belowLineFillColorGrowingBottom: 'rgba(41, 98, 255, 0)',\n    belowLineFillColorFallingBottom: 'rgba(41, 98, 255, 0)',\n    symbolActiveColor: 'rgba(15, 237, 190, 0.05)', // highlight color for active symbol\n    tabs: [\n        {\n            title: 'Financial',\n            symbols: [\n                { s: 'NYSE:JPM', d: 'JPMorgan Chase' },\n                { s: 'NYSE:WFC', d: 'Wells Fargo Co New' },\n                { s: 'NYSE:BAC', d: 'Bank Amer Corp' },\n                { s: 'NYSE:HSBC', d: 'Hsbc Hldgs Plc' },\n                { s: 'NYSE:C', d: 'Citigroup Inc' },\n                { s: 'NYSE:MA', d: 'Mastercard Incorporated' },\n            ],\n        },\n        {\n            title: 'Technology',\n            symbols: [\n                { s: 'NASDAQ:AAPL', d: 'Apple' },\n                { s: 'NASDAQ:GOOGL', d: 'Alphabet' },\n                { s: 'NASDAQ:MSFT', d: 'Microsoft' },\n                { s: 'NASDAQ:FB', d: 'Meta Platforms' },\n                { s: 'NYSE:ORCL', d: 'Oracle Corp' },\n                { s: 'NASDAQ:INTC', d: 'Intel Corp' },\n            ],\n        },\n        {\n            title: 'Services',\n            symbols: [\n                { s: 'NASDAQ:AMZN', d: 'Amazon' },\n                { s: 'NYSE:BABA', d: 'Alibaba Group Hldg Ltd' },\n                { s: 'NYSE:T', d: 'At&t Inc' },\n                { s: 'NYSE:WMT', d: 'Walmart' },\n                { s: 'NYSE:V', d: 'Visa' },\n            ],\n        },\n    ],\n    support_host: 'https://www.tradingview.com', // TradingView host\n    backgroundColor: '#141414', // background color\n    width: '100%', // full width\n    height: 600, // height in px\n    showSymbolLogo: true, // show logo next to symbols\n    showChart: true, // display mini chart\n};\n\nexport const HEATMAP_WIDGET_CONFIG = {\n    dataSource: 'SPX500',\n    blockSize: 'market_cap_basic',\n    blockColor: 'change',\n    grouping: 'sector',\n    isTransparent: true,\n    locale: 'en',\n    symbolUrl: '',\n    colorTheme: 'dark',\n    exchanges: [],\n    hasTopBar: false,\n    isDataSetEnabled: false,\n    isZoomEnabled: true,\n    hasSymbolTooltip: true,\n    isMonoSize: false,\n    width: '100%',\n    height: '600',\n};\n\nexport const TOP_STORIES_WIDGET_CONFIG = {\n    displayMode: 'regular',\n    feedMode: 'market',\n    colorTheme: 'dark',\n    isTransparent: true,\n    locale: 'en',\n    market: 'stock',\n    width: '100%',\n    height: '600',\n};\n\nexport const MARKET_DATA_WIDGET_CONFIG = {\n    title: 'Stocks',\n    width: '100%',\n    height: 600,\n    locale: 'en',\n    showSymbolLogo: true,\n    colorTheme: 'dark',\n    isTransparent: false,\n    backgroundColor: '#0F0F0F',\n    symbolsGroups: [\n        {\n            name: 'Financial',\n            symbols: [\n                { name: 'NYSE:JPM', displayName: 'JPMorgan Chase' },\n                { name: 'NYSE:WFC', displayName: 'Wells Fargo Co New' },\n                { name: 'NYSE:BAC', displayName: 'Bank Amer Corp' },\n                { name: 'NYSE:HSBC', displayName: 'Hsbc Hldgs Plc' },\n                { name: 'NYSE:C', displayName: 'Citigroup Inc' },\n                { name: 'NYSE:MA', displayName: 'Mastercard Incorporated' },\n            ],\n        },\n        {\n            name: 'Technology',\n            symbols: [\n                { name: 'NASDAQ:AAPL', displayName: 'Apple' },\n                { name: 'NASDAQ:GOOGL', displayName: 'Alphabet' },\n                { name: 'NASDAQ:MSFT', displayName: 'Microsoft' },\n                { name: 'NASDAQ:FB', displayName: 'Meta Platforms' },\n                { name: 'NYSE:ORCL', displayName: 'Oracle Corp' },\n                { name: 'NASDAQ:INTC', displayName: 'Intel Corp' },\n            ],\n        },\n        {\n            name: 'Services',\n            symbols: [\n                { name: 'NASDAQ:AMZN', displayName: 'Amazon' },\n                { name: 'NYSE:BABA', displayName: 'Alibaba Group Hldg Ltd' },\n                { name: 'NYSE:T', displayName: 'At&t Inc' },\n                { name: 'NYSE:WMT', displayName: 'Walmart' },\n                { name: 'NYSE:V', displayName: 'Visa' },\n            ],\n        },\n    ],\n};\n\nexport const SYMBOL_INFO_WIDGET_CONFIG = (symbol: string) => ({\n    symbol: symbol.toUpperCase(),\n    colorTheme: 'dark',\n    isTransparent: true,\n    locale: 'en',\n    width: '100%',\n    height: 170,\n});\n\nexport const CANDLE_CHART_WIDGET_CONFIG = (symbol: string) => ({\n    allow_symbol_change: false,\n    calendar: false,\n    details: true,\n    hide_side_toolbar: true,\n    hide_top_toolbar: false,\n    hide_legend: false,\n    hide_volume: false,\n    hotlist: false,\n    interval: 'D',\n    locale: 'en',\n    save_image: false,\n    style: 1,\n    symbol: symbol.toUpperCase(),\n    theme: 'dark',\n    timezone: 'Etc/UTC',\n    backgroundColor: '#141414',\n    gridColor: '#141414',\n    watchlist: [],\n    withdateranges: false,\n    compareSymbols: [],\n    studies: [],\n    width: '100%',\n    height: 600,\n});\n\nexport const BASELINE_WIDGET_CONFIG = (symbol: string) => ({\n    allow_symbol_change: false,\n    calendar: false,\n    details: false,\n    hide_side_toolbar: true,\n    hide_top_toolbar: false,\n    hide_legend: false,\n    hide_volume: false,\n    hotlist: false,\n    interval: 'D',\n    locale: 'en',\n    save_image: false,\n    style: 10,\n    symbol: symbol.toUpperCase(),\n    theme: 'dark',\n    timezone: 'Etc/UTC',\n    backgroundColor: '#141414',\n    gridColor: '#141414',\n    watchlist: [],\n    withdateranges: false,\n    compareSymbols: [],\n    studies: [],\n    width: '100%',\n    height: 600,\n});\n\nexport const TECHNICAL_ANALYSIS_WIDGET_CONFIG = (symbol: string) => ({\n    symbol: symbol.toUpperCase(),\n    colorTheme: 'dark',\n    isTransparent: 'true',\n    locale: 'en',\n    width: '100%',\n    height: 400,\n    interval: '1h',\n    largeChartUrl: '',\n});\n\nexport const COMPANY_PROFILE_WIDGET_CONFIG = (symbol: string) => ({\n    symbol: symbol.toUpperCase(),\n    colorTheme: 'dark',\n    isTransparent: 'true',\n    locale: 'en',\n    width: '100%',\n    height: 440,\n});\n\nexport const COMPANY_FINANCIALS_WIDGET_CONFIG = (symbol: string) => ({\n    symbol: symbol.toUpperCase(),\n    colorTheme: 'dark',\n    isTransparent: 'true',\n    locale: 'en',\n    width: '100%',\n    height: 464,\n    displayMode: 'regular',\n    largeChartUrl: '',\n});\n\nexport const POPULAR_STOCK_SYMBOLS = [\n    // Tech Giants (the big technology companies)\n    'AAPL',\n    'MSFT',\n    'GOOGL',\n    'AMZN',\n    'TSLA',\n    'META',\n    'NVDA',\n    'NFLX',\n    'ORCL',\n    'CRM',\n\n    // Growing Tech Companies\n    'ADBE',\n    'INTC',\n    'AMD',\n    'PYPL',\n    'UBER',\n    'ZOOM',\n    'SPOT',\n    'SQ',\n    'SHOP',\n    'ROKU',\n\n    // Newer Tech Companies\n    'SNOW',\n    'PLTR',\n    'COIN',\n    'RBLX',\n    'DDOG',\n    'CRWD',\n    'NET',\n    'OKTA',\n    'TWLO',\n    'ZM',\n\n    // Consumer & Delivery Apps\n    'DOCU',\n    'PTON',\n    'PINS',\n    'SNAP',\n    'LYFT',\n    'DASH',\n    'ABNB',\n    'RIVN',\n    'LCID',\n    'NIO',\n\n    // International Companies\n    'XPEV',\n    'LI',\n    'BABA',\n    'JD',\n    'PDD',\n    'TME',\n    'BILI',\n    'DIDI',\n    'GRAB',\n    'SE',\n];\n\nexport const NO_MARKET_NEWS =\n    '<p class=\"mobile-text\" style=\"margin:0 0 20px 0;font-size:16px;line-height:1.6;color:#4b5563;\">No market news available today. Please check back tomorrow.</p>';\n\nexport const WATCHLIST_TABLE_HEADER = [\n    'Company',\n    'Symbol',\n    'Price',\n    'Change',\n    'Market Cap',\n    'P/E Ratio',\n    'Alert',\n    'Action',\n];\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 738, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrchoi/Documents/GitHub/stock-tracker/lib/actions/finnhub.actions.ts"],"sourcesContent":["'use server';\n\nimport { getDateRange, validateArticle, formatArticle } from '@/lib/utils';\nimport { POPULAR_STOCK_SYMBOLS } from '@/lib/constants';\nimport { cache } from 'react';\n\nconst FINNHUB_BASE_URL = 'https://finnhub.io/api/v1';\nconst NEXT_PUBLIC_FINNHUB_API_KEY = process.env.NEXT_PUBLIC_FINNHUB_API_KEY ?? '';\n\nasync function fetchJSON<T>(url: string, revalidateSeconds?: number): Promise<T> {\n  const options: RequestInit & { next?: { revalidate?: number } } = revalidateSeconds\n    ? { cache: 'force-cache', next: { revalidate: revalidateSeconds } }\n    : { cache: 'no-store' };\n\n  const res = await fetch(url, options);\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(`Fetch failed ${res.status}: ${text}`);\n  }\n  return (await res.json()) as T;\n}\n\nexport { fetchJSON };\n\nexport async function getNews(symbols?: string[]): Promise<MarketNewsArticle[]> {\n  try {\n    const range = getDateRange(5);\n    const token = process.env.FINNHUB_API_KEY ?? NEXT_PUBLIC_FINNHUB_API_KEY;\n    if (!token) {\n      throw new Error('FINNHUB API key is not configured');\n    }\n    const cleanSymbols = (symbols || [])\n      .map((s) => s?.trim().toUpperCase())\n      .filter((s): s is string => Boolean(s));\n\n    const maxArticles = 6;\n\n    // If we have symbols, try to fetch company news per symbol and round-robin select\n    if (cleanSymbols.length > 0) {\n      const perSymbolArticles: Record<string, RawNewsArticle[]> = {};\n\n      await Promise.all(\n        cleanSymbols.map(async (sym) => {\n          try {\n            const url = `${FINNHUB_BASE_URL}/company-news?symbol=${encodeURIComponent(sym)}&from=${range.from}&to=${range.to}&token=${token}`;\n            const articles = await fetchJSON<RawNewsArticle[]>(url, 300);\n            perSymbolArticles[sym] = (articles || []).filter(validateArticle);\n          } catch (e) {\n            console.error('Error fetching company news for', sym, e);\n            perSymbolArticles[sym] = [];\n          }\n        })\n      );\n\n      const collected: MarketNewsArticle[] = [];\n      // Round-robin up to 6 picks\n      for (let round = 0; round < maxArticles; round++) {\n        for (let i = 0; i < cleanSymbols.length; i++) {\n          const sym = cleanSymbols[i];\n          const list = perSymbolArticles[sym] || [];\n          if (list.length === 0) continue;\n          const article = list.shift();\n          if (!article || !validateArticle(article)) continue;\n          collected.push(formatArticle(article, true, sym, round));\n          if (collected.length >= maxArticles) break;\n        }\n        if (collected.length >= maxArticles) break;\n      }\n\n      if (collected.length > 0) {\n        // Sort by datetime desc\n        collected.sort((a, b) => (b.datetime || 0) - (a.datetime || 0));\n        return collected.slice(0, maxArticles);\n      }\n      // If none collected, fall through to general news\n    }\n\n    // General market news fallback or when no symbols provided\n    const generalUrl = `${FINNHUB_BASE_URL}/news?category=general&token=${token}`;\n    const general = await fetchJSON<RawNewsArticle[]>(generalUrl, 300);\n\n    const seen = new Set<string>();\n    const unique: RawNewsArticle[] = [];\n    for (const art of general || []) {\n      if (!validateArticle(art)) continue;\n      const key = `${art.id}-${art.url}-${art.headline}`;\n      if (seen.has(key)) continue;\n      seen.add(key);\n      unique.push(art);\n      if (unique.length >= 20) break; // cap early before final slicing\n    }\n\n    const formatted = unique.slice(0, maxArticles).map((a, idx) => formatArticle(a, false, undefined, idx));\n    return formatted;\n  } catch (err) {\n    console.error('getNews error:', err);\n    throw new Error('Failed to fetch news');\n  }\n}\n\nexport const searchStocks = cache(async (query?: string): Promise<StockWithWatchlistStatus[]> => {\n  try {\n    const token = process.env.FINNHUB_API_KEY ?? NEXT_PUBLIC_FINNHUB_API_KEY;\n    if (!token) {\n      // If no token, log and return empty to avoid throwing per requirements\n      console.error('Error in stock search:', new Error('FINNHUB API key is not configured'));\n      return [];\n    }\n\n    const trimmed = typeof query === 'string' ? query.trim() : '';\n\n    let results: FinnhubSearchResult[] = [];\n\n    if (!trimmed) {\n      // Fetch top 10 popular symbols' profiles\n      const top = POPULAR_STOCK_SYMBOLS.slice(0, 10);\n      const profiles = await Promise.all(\n        top.map(async (sym) => {\n          try {\n            const url = `${FINNHUB_BASE_URL}/stock/profile2?symbol=${encodeURIComponent(sym)}&token=${token}`;\n            // Revalidate every hour\n            const profile = await fetchJSON<any>(url, 3600);\n            return { sym, profile } as { sym: string; profile: any };\n          } catch (e) {\n            console.error('Error fetching profile2 for', sym, e);\n            return { sym, profile: null } as { sym: string; profile: any };\n          }\n        })\n      );\n\n      results = profiles\n        .map(({ sym, profile }) => {\n          const symbol = sym.toUpperCase();\n          const name: string | undefined = profile?.name || profile?.ticker || undefined;\n          const exchange: string | undefined = profile?.exchange || undefined;\n          if (!name) return undefined;\n          const r: FinnhubSearchResult = {\n            symbol,\n            description: name,\n            displaySymbol: symbol,\n            type: 'Common Stock',\n          };\n          // We don't include exchange in FinnhubSearchResult type, so carry via mapping later using profile\n          // To keep pipeline simple, attach exchange via closure map stage\n          // We'll reconstruct exchange when mapping to final type\n          (r as any).__exchange = exchange; // internal only\n          return r;\n        })\n        .filter((x): x is FinnhubSearchResult => Boolean(x));\n    } else {\n      const url = `${FINNHUB_BASE_URL}/search?q=${encodeURIComponent(trimmed)}&token=${token}`;\n      const data = await fetchJSON<FinnhubSearchResponse>(url, 1800);\n      results = Array.isArray(data?.result) ? data.result : [];\n    }\n\n    const mapped: StockWithWatchlistStatus[] = results\n      .map((r) => {\n        const upper = (r.symbol || '').toUpperCase();\n        const name = r.description || upper;\n        const exchangeFromDisplay = (r.displaySymbol as string | undefined) || undefined;\n        const exchangeFromProfile = (r as any).__exchange as string | undefined;\n        const exchange = exchangeFromDisplay || exchangeFromProfile || 'US';\n        const type = r.type || 'Stock';\n        const item: StockWithWatchlistStatus = {\n          symbol: upper,\n          name,\n          exchange,\n          type,\n          isInWatchlist: false,\n        };\n        return item;\n      })\n      .slice(0, 15);\n\n    return mapped;\n  } catch (err) {\n    console.error('Error in stock search:', err);\n    return [];\n  }\n});\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 924, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrchoi/Documents/GitHub/stock-tracker/components/Header.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport Image from \"next/image\";\nimport NavItems from \"@/components/NavItems\";\nimport UserDropdown from \"@/components/UserDropdown\";\nimport {searchStocks} from \"@/lib/actions/finnhub.actions\";\n\nconst Header = async ({ user }: { user: User }) => {\n    const initialStocks = await searchStocks();\n\n    return (\n        <header className=\"sticky top-0 header\">\n            <div className=\"container header-wrapper\">\n                <Link href=\"/\">\n                    <Image src=\"/assets/icons/logo.svg\" alt=\"Signalist logo\" width={140} height={32} className=\"h-8 w-auto cursor-pointer\" />\n                </Link>\n                <nav className=\"hidden sm:block\">\n                    <NavItems initialStocks={initialStocks} />\n                </nav>\n\n                <UserDropdown user={user} initialStocks={initialStocks} />\n            </div>\n        </header>\n    )\n}\nexport default Header\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;AAEA,MAAM,SAAS,OAAO,EAAE,IAAI,EAAkB;IAC1C,MAAM,gBAAgB,MAAM,IAAA,oJAAY;IAExC,qBACI,8OAAC;QAAO,WAAU;kBACd,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC,uKAAI;oBAAC,MAAK;8BACP,cAAA,8OAAC,wIAAK;wBAAC,KAAI;wBAAyB,KAAI;wBAAiB,OAAO;wBAAK,QAAQ;wBAAI,WAAU;;;;;;;;;;;8BAE/F,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC,kIAAQ;wBAAC,eAAe;;;;;;;;;;;8BAG7B,8OAAC,sIAAY;oBAAC,MAAM;oBAAM,eAAe;;;;;;;;;;;;;;;;;AAIzD;uCACe","debugId":null}},
    {"offset": {"line": 1052, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrchoi/Documents/GitHub/stock-tracker/database/mongoose.ts"],"sourcesContent":["import mongoose from 'mongoose';\n\nconst MONGODB_URI = process.env.MONGODB_URI;\n\ndeclare global {\n    var mongooseCache: {\n        conn: typeof mongoose | null;\n        promise: Promise<typeof mongoose> | null;\n    }\n}\n\nlet cached = global.mongooseCache;\n\nif(!cached) {\n    cached = global.mongooseCache = { conn: null, promise: null };\n}\n\nexport const connectToDatabase = async () => {\n    if(!MONGODB_URI) throw new Error('MONGODB_URI must be set within .env');\n\n    if(cached.conn) return cached.conn;\n\n    if(!cached.promise) {\n        cached.promise = mongoose.connect(MONGODB_URI, { bufferCommands: false });\n    }\n\n    try {\n        cached.conn = await cached.promise;\n    } catch (err) {\n        cached.promise = null;\n        throw err;\n    }\n\n    console.log(`Connected to database ${process.env.NODE_ENV} - ${MONGODB_URI}`);\n\n    return cached.conn;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,cAAc,QAAQ,GAAG,CAAC,WAAW;AAS3C,IAAI,SAAS,OAAO,aAAa;AAEjC,IAAG,CAAC,QAAQ;IACR,SAAS,OAAO,aAAa,GAAG;QAAE,MAAM;QAAM,SAAS;IAAK;AAChE;AAEO,MAAM,oBAAoB;IAC7B,IAAG,CAAC,aAAa,MAAM,IAAI,MAAM;IAEjC,IAAG,OAAO,IAAI,EAAE,OAAO,OAAO,IAAI;IAElC,IAAG,CAAC,OAAO,OAAO,EAAE;QAChB,OAAO,OAAO,GAAG,oHAAQ,CAAC,OAAO,CAAC,aAAa;YAAE,gBAAgB;QAAM;IAC3E;IAEA,IAAI;QACA,OAAO,IAAI,GAAG,MAAM,OAAO,OAAO;IACtC,EAAE,OAAO,KAAK;QACV,OAAO,OAAO,GAAG;QACjB,MAAM;IACV;IAEA,QAAQ,GAAG,CAAC,CAAC,sBAAsB,kDAAuB,GAAG,EAAE,aAAa;IAE5E,OAAO,OAAO,IAAI;AACtB","debugId":null}},
    {"offset": {"line": 1089, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrchoi/Documents/GitHub/stock-tracker/lib/better-auth/auth.ts"],"sourcesContent":["import { betterAuth } from \"better-auth\";\nimport { mongodbAdapter} from \"better-auth/adapters/mongodb\";\nimport { connectToDatabase} from \"@/database/mongoose\";\nimport { nextCookies} from \"better-auth/next-js\";\n\nlet authInstance: ReturnType<typeof betterAuth> | null = null;\n\nexport const getAuth = async () => {\n    if(authInstance) return authInstance;\n\n    const mongoose = await connectToDatabase();\n    const db = mongoose.connection.db;\n\n    if(!db) throw new Error('MongoDB connection not found');\n\n    authInstance = betterAuth({\n        database: mongodbAdapter(db as any),\n        secret: process.env.BETTER_AUTH_SECRET,\n        baseURL: process.env.BETTER_AUTH_URL,\n        emailAndPassword: {\n            enabled: true,\n            disableSignUp: false,\n            requireEmailVerification: false,\n            minPasswordLength: 8,\n            maxPasswordLength: 128,\n            autoSignIn: true,\n        },\n        plugins: [nextCookies()],\n    });\n\n    return authInstance;\n}\n\nexport const auth = await getAuth();\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AACA;;;;;AAEA,IAAI,eAAqD;AAElD,MAAM,UAAU;IACnB,IAAG,cAAc,OAAO;IAExB,MAAM,WAAW,MAAM,IAAA,yIAAiB;IACxC,MAAM,KAAK,SAAS,UAAU,CAAC,EAAE;IAEjC,IAAG,CAAC,IAAI,MAAM,IAAI,MAAM;IAExB,eAAe,IAAA,gOAAU,EAAC;QACtB,UAAU,IAAA,wOAAc,EAAC;QACzB,QAAQ,QAAQ,GAAG,CAAC,kBAAkB;QACtC,SAAS,QAAQ,GAAG,CAAC,eAAe;QACpC,kBAAkB;YACd,SAAS;YACT,eAAe;YACf,0BAA0B;YAC1B,mBAAmB;YACnB,mBAAmB;YACnB,YAAY;QAChB;QACA,SAAS;YAAC,IAAA,oLAAW;SAAG;IAC5B;IAEA,OAAO;AACX;AAEO,MAAM,OAAO,MAAM","debugId":null}},
    {"offset": {"line": 1137, "column": 0}, "map": {"version":3,"sources":["file:///Users/jrchoi/Documents/GitHub/stock-tracker/app/%28root%29/layout.tsx"],"sourcesContent":["import Header from \"@/components/Header\";\nimport {auth} from \"@/lib/better-auth/auth\";\nimport {headers} from \"next/headers\";\nimport {redirect} from \"next/navigation\";\n\nconst Layout = async ({ children }: { children : React.ReactNode }) => {\n    const session = await auth.api.getSession({ headers: await headers() });\n\n    if(!session?.user) redirect('/sign-in');\n\n    const user = {\n        id: session.user.id,\n        name: session.user.name,\n        email: session.user.email,\n    }\n\n    return (\n        <main className=\"min-h-screen text-gray-400\">\n            <Header user={user} />\n\n            <div className=\"container py-10\">\n                {children}\n            </div>\n        </main>\n    )\n}\nexport default Layout\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AAAA;;;;;;;;;;AAEA,MAAM,SAAS,OAAO,EAAE,QAAQ,EAAkC;IAC9D,MAAM,UAAU,MAAM,qIAAI,CAAC,GAAG,CAAC,UAAU,CAAC;QAAE,SAAS,MAAM,IAAA,0IAAO;IAAG;IAErE,IAAG,CAAC,SAAS,MAAM,IAAA,iMAAQ,EAAC;IAE5B,MAAM,OAAO;QACT,IAAI,QAAQ,IAAI,CAAC,EAAE;QACnB,MAAM,QAAQ,IAAI,CAAC,IAAI;QACvB,OAAO,QAAQ,IAAI,CAAC,KAAK;IAC7B;IAEA,qBACI,8OAAC;QAAK,WAAU;;0BACZ,8OAAC,gIAAM;gBAAC,MAAM;;;;;;0BAEd,8OAAC;gBAAI,WAAU;0BACV;;;;;;;;;;;;AAIjB;uCACe","debugId":null}}]
}